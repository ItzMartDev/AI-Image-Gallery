<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI generated images - images5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loader {
            border: 4px solid #e2e8f0;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        body { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { width: 12px; height: 12px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background-color: #4b5563; border-radius: 20px; border: 3px solid #1f2937; }
        ::-webkit-scrollbar-thumb:hover { background-color: #6b7280; }
        .modal-hidden { opacity: 0; pointer-events: none; }
        .modal-visible { opacity: 1; pointer-events: auto; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 antialiased min-h-screen flex flex-col">
    <header class="bg-white dark:bg-gray-800 shadow-sm p-4 sticky top-0 z-20 flex justify-between items-center border-b border-gray-200 dark:border-gray-700">
        <h1 id="header-title" class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2">
            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            List of AI generated images - images5
        </h1>
        <a href="../index.html" class="text-blue-500 hover:text-blue-700">Back to folders</a>
    </header>
    <main class="flex-grow p-2 sm:p-4 md:p-6 lg:p-8">
        <div id="loader" class="flex justify-center items-center h-[60vh]">
            <div class="loader" role="status" aria-label="Loading..."></div>
        </div>
        <div id="error-message" class="hidden text-center text-red-600 dark:text-red-400 p-8 m-4 bg-red-50 dark:bg-red-900/20 rounded-lg shadow-md"></div>
        <div id="gallery-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-5"></div>
    </main>
    <footer class="bg-white dark:bg-gray-800 shadow-inner p-3 text-center text-sm text-gray-600 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 mt-auto">
        <span>&copy; 2023 AI Image Gallery. All these images were generated by Artificial Intelligence.</span>
    </footer>
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 transition-opacity duration-300 modal-hidden" role="dialog" aria-modal="true">
        <button id="close-modal" class="absolute top-4 right-4 text-white text-5xl leading-none font-light hover:text-gray-300 transition-colors duration-200 z-50" aria-label="Close photo gallery">&times;</button>
        <div class="relative w-full h-full flex items-center justify-center">
            <img id="modal-image" src="" alt="Full-size image" class="max-w-[95vw] max-h-[90vh] object-contain rounded-lg shadow-2xl transition-transform duration-300 transform scale-95 modal-visible:scale-100">
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const imagesEndpoint = "https://api.github.com/repos/ItzMartDev/ai-images/contents/images5?ref=main";
            const rawImageBase = "https://raw.githubusercontent.com/ItzMartDev/ai-images/main/images5/";
            const galleryGrid = document.getElementById('gallery-grid');
            const loader = document.getElementById('loader');
            const errorMessage = document.getElementById('error-message');
            const modal = document.getElementById('modal');
            const modalImage = document.getElementById('modal-image');
            const closeModalButton = document.getElementById('close-modal');
            function shuffleArray(array) { for (let i = array.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [array[i], array[j]] = [array[j], array[i]]; } }
            async function fetchImages() {
                try {
                    loader.classList.remove('hidden'); errorMessage.classList.add('hidden'); galleryGrid.innerHTML = '';
                    const response = await fetch(imagesEndpoint);
                    if (!response.ok) { if (response.status === 404) { throw new Error("No images found in this folder."); } else { throw new Error(`Error: ${response.status} ${response.statusText}`); } }
                    const data = await response.json();
                    if (!Array.isArray(data)) { throw new Error(data.message || "Invalid response format."); }
                    let imageFiles = data.filter(file => file.type === 'file' && (file.name.endsWith('.jpg') || file.name.endsWith('.png') || file.name.endsWith('.jpeg') || file.name.endsWith('.gif') || file.name.endsWith('.webp')));
                    if (imageFiles.length === 0) { throw new Error("No image files found."); }
                    const totalSize = imageFiles.reduce((sum, file) => sum + (file.size || 0), 0);
                    const formattedSize = formatSize(totalSize);
                    document.getElementById('header-title').innerHTML += ` (${imageFiles.length} images, ${formattedSize})`;
                    shuffleArray(imageFiles);
                    imageFiles.forEach(file => {
                        const imageUrl = rawImageBase + encodeURIComponent(file.name);
                        const imageContainer = document.createElement('div');
                        imageContainer.className = "group aspect-square bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden shadow-md cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-xl relative";
                        const img = document.createElement('img');
                        img.src = imageUrl; img.alt = `AI-generated image`; img.loading = 'lazy';
                        img.className = "w-full h-full object-cover transition-transform duration-300 group-hover:scale-105";
                        img.onerror = () => { img.src = `https://placehold.co/300x300/e2e8f0/94a3b8?text=Failed+to+Load`; img.alt = 'Error loading image'; imageContainer.classList.add('pointer-events-none', 'opacity-50'); };
                        imageContainer.addEventListener('click', () => openModal(imageUrl));
                        imageContainer.appendChild(img); galleryGrid.appendChild(imageContainer);
                    });
                } catch (error) { console.error("Failed to fetch images:", error); errorMessage.textContent = `Error: ${error.message}`; errorMessage.classList.remove('hidden'); }
                finally { loader.classList.add('hidden'); }
            }
            function openModal(url) { modalImage.src = url; modal.classList.remove('modal-hidden'); modal.classList.add('modal-visible'); document.body.style.overflow = 'hidden'; }
            function closeModal() { modal.classList.remove('modal-visible'); modal.classList.add('modal-hidden'); setTimeout(() => { modalImage.src = ''; document.body.style.overflow = 'auto'; }, 300); }
            closeModalButton.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.classList.contains('modal-visible')) closeModal(); });
            fetchImages();
        });
        function formatSize(bytes) { if (bytes < 1024) return bytes + ' B'; if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB'; if (bytes < 1024 * 1024 * 1024) return (bytes / (1024 * 1024)).toFixed(1) + ' MB'; return (bytes / (1024 * 1024 * 1024)).toFixed(1) + ' GB'; }
    </script>
</body>
</html>